var debug = require('debug')('client'),
    stacks = require('..');

stacks.connect(3000, function(client) {

  client.on('sum numbers', function(body, reply) {
    var error = null,
        numbers = body.numbers,
        sum = 0;

    for (i in numbers) {
      debug('sum: ', sum);
      sum += numbers[i];
    }

    console.log('sum: ', sum);

    setTimeout(function() {
      reply(error, sum);
    }, 3000);
  }, 25);

});
